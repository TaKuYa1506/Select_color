<HTML>
<HEAD><meta charset="utf-8"><TITLE>Select_color</TITLE></HEAD>
<BODY onload="load_now()">
<div style="font-size: 12em;" id="color_box">　</div>

<div>
    <div id="color_code">#</div>
    <input type="range"  id="red_range"    style="color:#F00" min="0" max="255" value="0">
    <input type="number" id="red_number"   style="border:2px solid #F00" size="3" value="0"><br>
    <input type="range"  id="green_range"  style="" min="0" max="255" value="0">
    <input type="number" id="green_number" style="border:2px solid #0F0" size="3" value="0"><br>
    <input type="range"  id="blue_range"   style="" min="0" max="255" value="0">
    <input type="number" id="blue_number"  style="border:2px solid #00F" size="3" value="0"><br>
    <input type="color"  id="color_box" onchange="change_colorbox(this)">
</div>        

</BODY>
<script>
    const color_code_obj = document.getElementById("color_code");
    // 起動時のイベント紐づけ
    function load_now(){
        document.getElementById("red_range").onchange = change_value;
        document.getElementById("green_range").onchange = change_value;
        document.getElementById("blue_range").onchange = change_value;
        document.getElementById("red_number").onchange = change_value;
        document.getElementById("green_number").onchange = change_value;
        document.getElementById("blue_number").onchange = change_value;

        //document.getElementById("color_box").onchange = change_colorbox;
    }

    // RGBのオブジェクトIDを渡すと#RRGGBBが返る
    function RGB2colorcode(red_id, green_id, blue_id){
        return "#"+ ("00"+parseInt(document.getElementById(red_id).value).toString(16)).slice(-2) 
                  + ("00"+parseInt(document.getElementById(green_id).value).toString(16)).slice(-2) 
                  + ("00"+parseInt(document.getElementById(blue_id).value).toString(16)).slice(-2);
    }

    // スライダー、テキストボックスの値が変化したとき
    function change_value(){
        color_code_obj.innerHTML = RGB2colorcode("red_"+this.type,"green_"+this.type,"blue_"+this.type);
        change_color_code()
    }

    function change_colorbox(this_box){
        color_code_obj.innerHTML = this_box.value;
        change_color_code()
    }

    function change_color_code(){
        document.getElementById("color_box").style.backgroundColor = color_code_obj.innerHTML; 
    }

</script>      
</HTML>